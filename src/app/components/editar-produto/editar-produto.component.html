<div class="container mt-5">
  <h2>Editar Produto</h2>
  <div *ngIf="loading">Carregando...</div>
  <div *ngIf="!loading && error" class="alert alert-danger">{{ error }}</div>
  <form *ngIf="!loading && !error" (ngSubmit)="atualizarProduto()" class="edit-form">
    <div class="mb-3">
      <label for="nome" class="form-label">Nome do Produto</label>
      <input
        type="text"
        class="form-control"
        id="nome"
        [(ngModel)]="produto.nome"
        name="nome"
        required
      >
    </div>

    <div class="mb-3">
      <label for="preco" class="form-label">Preço</label>
      <input
        type="number"
        class="form-control"
        id="preco"
        [(ngModel)]="produto.preco"
        name="preco"
        step="0.01"
        required
      >
    </div>

    <div class="mb-3">
      <label for="preco_anterior" class="form-label">Preço Anterior (Opcional)</label>
      <input
        type="number"
        class="form-control"
        id="preco_anterior"
        [(ngModel)]="produto.preco_anterior"
        name="preco_anterior"
        step="0.01"
      >
    </div>

    <div class="mb-3">
      <label for="imagem_url" class="form-label">URL da Imagem</label>
      <input
        type="url"
        class="form-control"
        id="imagem_url"
        [(ngModel)]="produto.imagem_url"
        name="imagem_url"
      >
    </div>

    <div class="preview-image mb-3" *ngIf="produto.imagem_url">
      <img [src]="produto.imagem_url" alt="Preview" class="img-thumbnail">
    </div>

    <div class="button-group">
      <button type="submit" class="btn btn-primary">Salvar Alterações</button>
      <button type="button" class="btn btn-secondary" (click)="voltar()">Cancelar</button>
    </div>
  </form>
</div>

